@using Business_Object;
@model UsuarioBO

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/MasterPages/_layoutAdmin.cshtml";
}

<div class="container-fluid card">
    @using (Ajax.BeginForm("datostabla", "AgregarEstudiante", new AjaxOptions() { HttpMethod = "POST" }))
    {
        @Html.AntiForgeryToken()

        <h2>Buscar usuario</h2>
        <div class="row">
            <div class="col s5">
                <div class="input-field">
                    <input id="first_name" type="text" class="validate">
                    <label for="first_name">Nombre</label>
                </div>
            </div>
            <div class="col s3">
                <p></p>
                <button type="submit" class="btn btn-success waves-effect waves-light">Buscar</button>
            </div>
            <div class="col s2">
            </div>
            <div class="col s2">
                <p></p>
                <button type="button" id="btn1" class="btn btn-success waves-effect waves-light">Reporte</button>
            </div>
        </div>

    }

    <div class="row">
        <div id="Tablausuarios" class="col-md-12">

        </div>
    </div>
</div>

<div class="bs-example" data-example-id="collapse-accordion"> 
    <div class="panel-group" role="tablist" id="accordion" aria-multiselectable="false"> 
        <div class="panel panel-default"> 
            <div class="panel-heading" role="tab" id="headingOne" style="background-color:white"> 
                <h4 class="panel-title">
                    <div class="row">
                        <div class="col-md-11">
                            <h2>Agregar usuario</h2>
                        </div>
                        <div class="col-md-1">
                            <a href="#collapseOne" role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="false" aria-controls="collapseOne" class="collapsed">
                                <span style="font-size: 50px; padding-top:20px" class="fa fa-chevron-circle-down"></span>
                            </a>
                        </div>
                    </div>
                </h4>
            </div> 
            <div class="panel-collapse collapse" role="tabpanel" id="collapseOne" aria-labelledby="headingOne" aria-expanded="false" style="height: 0px;"> 
                <div class="panel-body">
                    @using (Ajax.BeginForm("AgregarUsuario", "AgregarEstudiante", new AjaxOptions() { HttpMethod = "POST" }, new { enctype = "multipart/form-data" }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="first_name" type="text" class="validate" name="Nombre" required="required">
                                        <label for="first_name">Nombre(s)</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="last_name" type="text" class="validate" name="Apellidos" required="required">
                                        <label for="last_name">Apellidos</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="birth_day" type="date" class="validate" name="cumpleanios" step="1" min="1960-01-01" max="2013-12-31">
                                        <label for="birth_day" class="active">Fecha nacimiento</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="telephone" type="text" class="validate" pattern="[0-9]{10}" required="required" onkeypress="return valida(event)" maxlength="10" name="Telefono">
                                        <label for="telephone">Teléfono</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-field">
                                        <input id="address" type="text" class="validate" name="dirreccion" required="required">
                                        <label for="address">Dirección</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-field">
                                        <input id="first_name" type="email" class="validate" name="Email" required="required">
                                        <label for="first_name" class="active">Correo electrónico</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="first_name" type="password" class="validate" name="Contraseña" required="required">
                                        <label for="first_name">Contraseña</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <p></p>
                                    <select name="Tipo" class="form-control border-input">
                                        <option value="0">---Tipo de usuario---</option>
                                        <option value="1">Administrador</option>
                                        <option value="2">Empleador</option>
                                        <option value="3">Estudiante</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="file-field input-field">
                                <div class="btn">
                                    <span>File</span>
                                    <input type="file" name="Imagen" accept=".png, .jpg, .jpeg">
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-8"></div>
                        <div class="col-md-4">
                            <button class="waves-effect waves-light btn">Agregar</button>
                        </div>
                    </div>
                    }

                </div> 
            </div>
        </div> 
    </div> 
</div>

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingOne" style="background-color:white">
            <h4 class="panel-title">
                <div class="row">
                    <div class="col-md-11">
                        <h2>Agregar usuario</h2>
                    </div>
                    <div class="col-md-1">
                        <a href="#collapse1" role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="false" aria-controls="collapseOne" class="collapsed">
                            <span style="font-size: 50px; padding-top:20px" class="fa fa-chevron-circle-down"></span>
                        </a>
                    </div>
                </div>
            </h4>
        </div>
        <div class="panel-collapse collapse" role="tabpanel" id="collapse1" aria-labelledby="headingOne" aria-expanded="false" style="height: 0px;">
            <div class="panel-body">
                @using (Ajax.BeginForm("AgregarUsuario", "AgregarEstudiante", new AjaxOptions() { HttpMethod = "POST" }, new { enctype = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()
                    <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="first_name" type="text" class="validate" name="Nombre" required="required">
                                        <label for="first_name">Nombre(s)</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="last_name" type="text" class="validate" name="Apellidos" required="required">
                                        <label for="last_name">Apellidos</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="birth_day" type="date" class="validate" name="cumpleanios" step="1" min="1960-01-01" max="2013-12-31">
                                        <label for="birth_day" class="active">Fecha nacimiento</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="telephone" type="text" class="validate" pattern="[0-9]{10}" required="required" onkeypress="return valida(event)" maxlength="10" name="Telefono">
                                        <label for="telephone">Teléfono</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-field">
                                        <input id="address" type="text" class="validate" name="dirreccion" required="required">
                                        <label for="address">Dirección</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-field">
                                        <input id="first_name" type="email" class="validate" name="Email" required="required">
                                        <label for="first_name" class="active">Correo electrónico</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <input id="first_name" type="password" class="validate" name="Contraseña" required="required">
                                        <label for="first_name">Contraseña</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <p></p>
                                    <select name="Tipo" class="form-control border-input">
                                        <option value="0">---Tipo de usuario---</option>
                                        <option value="1">Administrador</option>
                                        <option value="2">Empleador</option>
                                        <option value="3">Estudiante</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="file-field input-field">
                                <div class="btn">
                                    <span>File</span>
                                    <input type="file" name="Imagen" accept=".png, .jpg, .jpeg">
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-8"></div>
                        <div class="col-md-4">
                            <button class="waves-effect waves-light btn">Agregar</button>
                        </div>
                    </div>
                }

            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingTwo">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Collapsible Group Item #2
                </a>
            </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
            <div class="panel-body">
                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingThree">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Collapsible Group Item #3
                </a>
            </h4>
        </div>
        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
            <div class="panel-body">
                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
            </div>
        </div>
    </div>
</div>

<div class="content letrasindexusuarios">
    <div @*class="container-fluid card"*@>
        <div class="row">
            <div id="dato"></div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

@if (ViewBag.Agregar != null)
{
    <script>
        window.onload = function () {
            swal('Correcto', 'Se agregó correctamente el nuevo usuario', 'success')
        }
    </script>
}

<script src="@Url.Content("~/Recursos/BackEnd/js/jquery-2.0.3.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    function tabla() {
        $('#Tablausuarios').load('/AgregarEstudiante/MostarTabla');
    }
    function datos() {
        $('#dato').load('/AgregarEstudiante/EditarDatos');
    }
</script>
<script type="text/javascript">
    function ocultar() {
        document.getElementById('lol').style.display = 'none';
    }
</script>
<script>
    function valida(e) {
        tecla = (document.all) ? e.keyCode : e.which;

        //Tecla de retroceso para borrar, siempre la permite
        if (tecla == 8) {
            return true;
        }

        // Patron de entrada, en este caso solo acepta numeros
        patron = /[0-9]/;
        tecla_final = String.fromCharCode(tecla);
        return patron.test(tecla_final);
    }
</script>

